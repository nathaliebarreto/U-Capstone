[debug] [2023-05-17T21:56:28.048Z] ----------------------------------------------------------------------
[debug] [2023-05-17T21:56:28.049Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2023-05-17T21:56:28.049Z] CLI Version:   12.0.1
[debug] [2023-05-17T21:56:28.049Z] Platform:      darwin
[debug] [2023-05-17T21:56:28.050Z] Node Version:  v18.15.0
[debug] [2023-05-17T21:56:28.050Z] Time:          Wed May 17 2023 17:56:28 GMT-0400 (Eastern Daylight Time)
[debug] [2023-05-17T21:56:28.050Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-17T21:56:28.079Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-17T21:56:28.079Z] > authorizing via signed-in user (ireenatbarr@gmail.com)
[debug] [2023-05-17T21:56:28.079Z] [iam] checking project u-capstone for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2023-05-17T21:56:28.080Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions [none]
[debug] [2023-05-17T21:56:28.080Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions x-goog-quota-user=projects/u-capstone
[debug] [2023-05-17T21:56:28.080Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-17T21:56:28.324Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions 200
[debug] [2023-05-17T21:56:28.324Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-17T21:56:28.325Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-05-17T21:56:28.325Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-17T21:56:28.513Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-05-17T21:56:28.514Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-17T21:56:28.515Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-17T21:56:28.799Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-17T21:56:28.800Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] 
[info] === Deploying to 'u-capstone'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2023-05-17T21:56:28.802Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-17T21:56:29.154Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-17T21:56:29.155Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-05-17T21:56:29.158Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [none]
[debug] [2023-05-17T21:56:29.158Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-17T21:56:29.160Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [none]
[debug] [2023-05-17T21:56:29.160Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-17T21:56:29.161Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [none]
[debug] [2023-05-17T21:56:29.161Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-17T21:56:29.163Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [none]
[debug] [2023-05-17T21:56:29.163Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-17T21:56:29.541Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com 200
[debug] [2023-05-17T21:56:29.541Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-05-17T21:56:29.542Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com 200
[debug] [2023-05-17T21:56:29.543Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-05-17T21:56:29.549Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com 200
[debug] [2023-05-17T21:56:29.549Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-05-17T21:56:29.570Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com 200
[debug] [2023-05-17T21:56:29.570Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-05-17T21:56:29.570Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig [none]
[debug] [2023-05-17T21:56:29.889Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig 200
[debug] [2023-05-17T21:56:29.890Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig {"projectId":"u-capstone","storageBucket":"u-capstone.appspot.com"}
[debug] [2023-05-17T21:56:29.891Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs [none]
[debug] [2023-05-17T21:56:30.092Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs 200
[debug] [2023-05-17T21:56:30.093Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs {}
[debug] [2023-05-17T21:56:30.095Z] Validating nodejs source
[debug] [2023-05-17T21:56:30.475Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-17T21:56:30.476Z] Building nodejs source
[debug] [2023-05-17T21:56:30.476Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-17T21:56:30.481Z] Found firebase-functions binary at '/Users/nathaliebarr/Desktop/capstone/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-17T21:56:30.549Z] Serving at port 8217

[debug] [2023-05-17T21:56:30.692Z] FetchError: request to http://localhost:8217/__/quitquitquit failed, reason: connect ECONNREFUSED ::1:8217
    at ClientRequest.<anonymous> (/usr/local/lib/node_modules/firebase-tools/node_modules/node-fetch/lib/index.js:1505:11)
    at ClientRequest.emit (node:events:513:28)
    at ClientRequest.emit (node:domain:489:12)
    at Socket.socketErrorListener (node:_http_client:502:9)
    at Socket.emit (node:events:513:28)
    at Socket.emit (node:domain:489:12)
    at emitErrorNT (node:internal/streams/destroy:151:8)
    at emitErrorCloseNT (node:internal/streams/destroy:116:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-05-18T00:03:48.303Z] ----------------------------------------------------------------------
[debug] [2023-05-18T00:03:48.303Z] Command:       /usr/local/bin/node /usr/local/bin/Firebase deploy
[debug] [2023-05-18T00:03:48.304Z] CLI Version:   12.0.1
[debug] [2023-05-18T00:03:48.304Z] Platform:      darwin
[debug] [2023-05-18T00:03:48.304Z] Node Version:  v18.15.0
[debug] [2023-05-18T00:03:48.305Z] Time:          Wed May 17 2023 20:03:48 GMT-0400 (Eastern Daylight Time)
[debug] [2023-05-18T00:03:48.305Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-18T00:03:48.336Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-18T00:03:48.336Z] > authorizing via signed-in user (ireenatbarr@gmail.com)
[debug] [2023-05-18T00:03:48.336Z] [iam] checking project u-capstone for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2023-05-18T00:03:48.337Z] > refreshing access token with scopes: []
[debug] [2023-05-18T00:03:48.337Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-05-18T00:03:48.338Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-05-18T00:03:48.643Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-05-18T00:03:48.643Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-05-18T00:03:48.665Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions [none]
[debug] [2023-05-18T00:03:48.665Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:03:48.665Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:03:49.238Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions 200
[debug] [2023-05-18T00:03:49.238Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:03:49.239Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-05-18T00:03:49.239Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:03:49.571Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-05-18T00:03:49.572Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:03:49.573Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:03:49.984Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:03:49.984Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] 
[info] === Deploying to 'u-capstone'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2023-05-18T00:03:49.989Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:03:50.279Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:03:50.280Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-05-18T00:03:50.283Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [none]
[debug] [2023-05-18T00:03:50.283Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:03:50.285Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [none]
[debug] [2023-05-18T00:03:50.285Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:03:50.286Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [none]
[debug] [2023-05-18T00:03:50.286Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:03:50.288Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [none]
[debug] [2023-05-18T00:03:50.288Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:03:50.691Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com 200
[debug] [2023-05-18T00:03:50.691Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-05-18T00:03:50.735Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com 200
[debug] [2023-05-18T00:03:50.735Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-05-18T00:03:50.737Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com 200
[debug] [2023-05-18T00:03:50.737Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-05-18T00:03:50.739Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com 200
[debug] [2023-05-18T00:03:50.739Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-05-18T00:03:50.739Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig [none]
[debug] [2023-05-18T00:03:51.016Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig 200
[debug] [2023-05-18T00:03:51.016Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig {"projectId":"u-capstone","storageBucket":"u-capstone.appspot.com"}
[debug] [2023-05-18T00:03:51.017Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs [none]
[debug] [2023-05-18T00:03:51.269Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs 200
[debug] [2023-05-18T00:03:51.269Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs {}
[debug] [2023-05-18T00:03:51.270Z] Validating nodejs source
[debug] [2023-05-18T00:03:51.744Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-18T00:03:51.744Z] Building nodejs source
[debug] [2023-05-18T00:03:51.745Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-18T00:03:51.751Z] Found firebase-functions binary at '/Users/nathaliebarr/Desktop/capstone/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-18T00:03:51.853Z] Serving at port 8878

[debug] [2023-05-18T00:03:52.089Z] FetchError: request to http://localhost:8878/__/quitquitquit failed, reason: connect ECONNREFUSED ::1:8878
    at ClientRequest.<anonymous> (/usr/local/lib/node_modules/firebase-tools/node_modules/node-fetch/lib/index.js:1505:11)
    at ClientRequest.emit (node:events:513:28)
    at ClientRequest.emit (node:domain:489:12)
    at Socket.socketErrorListener (node:_http_client:502:9)
    at Socket.emit (node:events:513:28)
    at Socket.emit (node:domain:489:12)
    at emitErrorNT (node:internal/streams/destroy:151:8)
    at emitErrorCloseNT (node:internal/streams/destroy:116:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-05-18T00:07:40.993Z] ----------------------------------------------------------------------
[debug] [2023-05-18T00:07:40.993Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2023-05-18T00:07:40.993Z] CLI Version:   12.0.1
[debug] [2023-05-18T00:07:40.994Z] Platform:      darwin
[debug] [2023-05-18T00:07:40.994Z] Node Version:  v18.15.0
[debug] [2023-05-18T00:07:40.994Z] Time:          Wed May 17 2023 20:07:40 GMT-0400 (Eastern Daylight Time)
[debug] [2023-05-18T00:07:40.994Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-18T00:07:41.023Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-18T00:07:41.023Z] > authorizing via signed-in user (ireenatbarr@gmail.com)
[debug] [2023-05-18T00:07:41.023Z] [iam] checking project u-capstone for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2023-05-18T00:07:41.024Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions [none]
[debug] [2023-05-18T00:07:41.024Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:07:41.024Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:07:41.248Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions 200
[debug] [2023-05-18T00:07:41.249Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:07:41.249Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-05-18T00:07:41.249Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:07:41.456Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-05-18T00:07:41.457Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:07:41.458Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:07:41.793Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:07:41.793Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] 
[info] === Deploying to 'u-capstone'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2023-05-18T00:07:41.798Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:07:42.123Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:07:42.124Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-05-18T00:07:42.127Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [none]
[debug] [2023-05-18T00:07:42.127Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:07:42.128Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [none]
[debug] [2023-05-18T00:07:42.128Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:07:42.129Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [none]
[debug] [2023-05-18T00:07:42.130Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:07:42.130Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [none]
[debug] [2023-05-18T00:07:42.131Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:07:42.621Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com 200
[debug] [2023-05-18T00:07:42.621Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-05-18T00:07:42.623Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com 200
[debug] [2023-05-18T00:07:42.623Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-05-18T00:07:42.624Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com 200
[debug] [2023-05-18T00:07:42.624Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-05-18T00:07:42.827Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com 200
[debug] [2023-05-18T00:07:42.827Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-05-18T00:07:42.828Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig [none]
[debug] [2023-05-18T00:07:43.118Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig 200
[debug] [2023-05-18T00:07:43.118Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig {"projectId":"u-capstone","storageBucket":"u-capstone.appspot.com"}
[debug] [2023-05-18T00:07:43.120Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs [none]
[debug] [2023-05-18T00:07:43.311Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs 200
[debug] [2023-05-18T00:07:43.312Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs {}
[debug] [2023-05-18T00:07:43.314Z] Validating nodejs source
[debug] [2023-05-18T00:07:43.645Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-18T00:07:43.645Z] Building nodejs source
[debug] [2023-05-18T00:07:43.645Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-18T00:07:43.650Z] Found firebase-functions binary at '/Users/nathaliebarr/Desktop/capstone/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-18T00:07:43.718Z] Serving at port 8498

[debug] [2023-05-18T00:07:43.858Z] FetchError: request to http://localhost:8498/__/quitquitquit failed, reason: connect ECONNREFUSED ::1:8498
    at ClientRequest.<anonymous> (/usr/local/lib/node_modules/firebase-tools/node_modules/node-fetch/lib/index.js:1505:11)
    at ClientRequest.emit (node:events:513:28)
    at ClientRequest.emit (node:domain:489:12)
    at Socket.socketErrorListener (node:_http_client:502:9)
    at Socket.emit (node:events:513:28)
    at Socket.emit (node:domain:489:12)
    at emitErrorNT (node:internal/streams/destroy:151:8)
    at emitErrorCloseNT (node:internal/streams/destroy:116:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-05-18T00:08:58.797Z] ----------------------------------------------------------------------
[debug] [2023-05-18T00:08:58.797Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2023-05-18T00:08:58.797Z] CLI Version:   12.0.1
[debug] [2023-05-18T00:08:58.798Z] Platform:      darwin
[debug] [2023-05-18T00:08:58.798Z] Node Version:  v18.15.0
[debug] [2023-05-18T00:08:58.798Z] Time:          Wed May 17 2023 20:08:58 GMT-0400 (Eastern Daylight Time)
[debug] [2023-05-18T00:08:58.798Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-18T00:08:58.826Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-18T00:08:58.827Z] > authorizing via signed-in user (ireenatbarr@gmail.com)
[debug] [2023-05-18T00:08:58.827Z] [iam] checking project u-capstone for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2023-05-18T00:08:58.828Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions [none]
[debug] [2023-05-18T00:08:58.828Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:08:58.828Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:08:59.065Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions 200
[debug] [2023-05-18T00:08:59.065Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:08:59.066Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-05-18T00:08:59.066Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:08:59.247Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-05-18T00:08:59.247Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:08:59.249Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:08:59.728Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:08:59.728Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] 
[info] === Deploying to 'u-capstone'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2023-05-18T00:08:59.732Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:09:00.141Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:09:00.141Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-05-18T00:09:00.143Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [none]
[debug] [2023-05-18T00:09:00.144Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:09:00.145Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [none]
[debug] [2023-05-18T00:09:00.145Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:09:00.146Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [none]
[debug] [2023-05-18T00:09:00.146Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:09:00.147Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [none]
[debug] [2023-05-18T00:09:00.147Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:09:00.529Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com 200
[debug] [2023-05-18T00:09:00.530Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-05-18T00:09:00.661Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com 200
[debug] [2023-05-18T00:09:00.661Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-05-18T00:09:00.663Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com 200
[debug] [2023-05-18T00:09:00.663Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-05-18T00:09:01.059Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com 200
[debug] [2023-05-18T00:09:01.059Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-05-18T00:09:01.060Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig [none]
[debug] [2023-05-18T00:09:01.315Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig 200
[debug] [2023-05-18T00:09:01.315Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig {"projectId":"u-capstone","storageBucket":"u-capstone.appspot.com"}
[debug] [2023-05-18T00:09:01.316Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs [none]
[debug] [2023-05-18T00:09:02.006Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs 200
[debug] [2023-05-18T00:09:02.007Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs {}
[debug] [2023-05-18T00:09:02.010Z] Validating nodejs source
[debug] [2023-05-18T00:09:02.385Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-18T00:09:02.385Z] Building nodejs source
[debug] [2023-05-18T00:09:02.386Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-18T00:09:02.391Z] Found firebase-functions binary at '/Users/nathaliebarr/Desktop/capstone/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-18T00:09:02.458Z] Serving at port 8587

[debug] [2023-05-18T00:09:02.774Z] FetchError: request to http://localhost:8587/__/quitquitquit failed, reason: connect ECONNREFUSED ::1:8587
    at ClientRequest.<anonymous> (/usr/local/lib/node_modules/firebase-tools/node_modules/node-fetch/lib/index.js:1505:11)
    at ClientRequest.emit (node:events:513:28)
    at ClientRequest.emit (node:domain:489:12)
    at Socket.socketErrorListener (node:_http_client:502:9)
    at Socket.emit (node:events:513:28)
    at Socket.emit (node:domain:489:12)
    at emitErrorNT (node:internal/streams/destroy:151:8)
    at emitErrorCloseNT (node:internal/streams/destroy:116:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-05-18T00:13:48.262Z] ----------------------------------------------------------------------
[debug] [2023-05-18T00:13:48.263Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2023-05-18T00:13:48.263Z] CLI Version:   12.0.1
[debug] [2023-05-18T00:13:48.264Z] Platform:      darwin
[debug] [2023-05-18T00:13:48.264Z] Node Version:  v18.15.0
[debug] [2023-05-18T00:13:48.264Z] Time:          Wed May 17 2023 20:13:48 GMT-0400 (Eastern Daylight Time)
[debug] [2023-05-18T00:13:48.264Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-18T00:13:48.293Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-18T00:13:48.293Z] > authorizing via signed-in user (ireenatbarr@gmail.com)
[debug] [2023-05-18T00:13:48.293Z] [iam] checking project u-capstone for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2023-05-18T00:13:48.294Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions [none]
[debug] [2023-05-18T00:13:48.294Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:13:48.294Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:13:48.630Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions 200
[debug] [2023-05-18T00:13:48.631Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:13:48.631Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-05-18T00:13:48.632Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:13:48.857Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-05-18T00:13:48.857Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:13:48.858Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:13:49.354Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:13:49.354Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] 
[info] === Deploying to 'u-capstone'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2023-05-18T00:13:49.360Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:13:49.674Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:13:49.674Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-05-18T00:13:49.677Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [none]
[debug] [2023-05-18T00:13:49.677Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:13:49.679Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [none]
[debug] [2023-05-18T00:13:49.679Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:13:49.681Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [none]
[debug] [2023-05-18T00:13:49.681Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:13:49.682Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [none]
[debug] [2023-05-18T00:13:49.682Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:13:50.068Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com 200
[debug] [2023-05-18T00:13:50.068Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-05-18T00:13:50.089Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com 200
[debug] [2023-05-18T00:13:50.089Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-05-18T00:13:50.090Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com 200
[debug] [2023-05-18T00:13:50.090Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-05-18T00:13:50.091Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com 200
[debug] [2023-05-18T00:13:50.091Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-05-18T00:13:50.091Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig [none]
[debug] [2023-05-18T00:13:50.478Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig 200
[debug] [2023-05-18T00:13:50.478Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig {"projectId":"u-capstone","storageBucket":"u-capstone.appspot.com"}
[debug] [2023-05-18T00:13:50.479Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs [none]
[debug] [2023-05-18T00:13:51.198Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs 200
[debug] [2023-05-18T00:13:51.198Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs {}
[debug] [2023-05-18T00:13:51.200Z] Validating nodejs source
[debug] [2023-05-18T00:13:51.570Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-18T00:13:51.570Z] Building nodejs source
[debug] [2023-05-18T00:13:51.570Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-18T00:13:51.575Z] Found firebase-functions binary at '/Users/nathaliebarr/Desktop/capstone/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-18T00:13:51.643Z] Serving at port 8439

[debug] [2023-05-18T00:13:51.783Z] FetchError: request to http://localhost:8439/__/quitquitquit failed, reason: connect ECONNREFUSED ::1:8439
    at ClientRequest.<anonymous> (/usr/local/lib/node_modules/firebase-tools/node_modules/node-fetch/lib/index.js:1505:11)
    at ClientRequest.emit (node:events:513:28)
    at ClientRequest.emit (node:domain:489:12)
    at Socket.socketErrorListener (node:_http_client:502:9)
    at Socket.emit (node:events:513:28)
    at Socket.emit (node:domain:489:12)
    at emitErrorNT (node:internal/streams/destroy:151:8)
    at emitErrorCloseNT (node:internal/streams/destroy:116:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-05-18T00:19:52.626Z] ----------------------------------------------------------------------
[debug] [2023-05-18T00:19:52.627Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2023-05-18T00:19:52.627Z] CLI Version:   12.0.1
[debug] [2023-05-18T00:19:52.627Z] Platform:      darwin
[debug] [2023-05-18T00:19:52.627Z] Node Version:  v18.15.0
[debug] [2023-05-18T00:19:52.628Z] Time:          Wed May 17 2023 20:19:52 GMT-0400 (Eastern Daylight Time)
[debug] [2023-05-18T00:19:52.628Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-18T00:19:52.656Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-18T00:19:52.656Z] > authorizing via signed-in user (ireenatbarr@gmail.com)
[debug] [2023-05-18T00:19:52.656Z] [iam] checking project u-capstone for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2023-05-18T00:19:52.657Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions [none]
[debug] [2023-05-18T00:19:52.657Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:19:52.657Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:19:52.850Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions 200
[debug] [2023-05-18T00:19:52.851Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:19:52.851Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-05-18T00:19:52.851Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:19:53.009Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-05-18T00:19:53.010Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:19:53.012Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:19:53.331Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:19:53.332Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] 
[info] === Deploying to 'u-capstone'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2023-05-18T00:19:53.337Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:19:53.688Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:19:53.688Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-05-18T00:19:53.690Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [none]
[debug] [2023-05-18T00:19:53.690Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:19:53.691Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [none]
[debug] [2023-05-18T00:19:53.691Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:19:53.692Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [none]
[debug] [2023-05-18T00:19:53.692Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:19:53.693Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [none]
[debug] [2023-05-18T00:19:53.693Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:19:54.045Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com 200
[debug] [2023-05-18T00:19:54.045Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-05-18T00:19:54.046Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com 200
[debug] [2023-05-18T00:19:54.046Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-05-18T00:19:54.048Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com 200
[debug] [2023-05-18T00:19:54.048Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-05-18T00:19:54.050Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com 200
[debug] [2023-05-18T00:19:54.050Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-05-18T00:19:54.051Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig [none]
[debug] [2023-05-18T00:19:54.515Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig 200
[debug] [2023-05-18T00:19:54.516Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig {"projectId":"u-capstone","storageBucket":"u-capstone.appspot.com"}
[debug] [2023-05-18T00:19:54.517Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs [none]
[debug] [2023-05-18T00:19:54.930Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs 200
[debug] [2023-05-18T00:19:54.930Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs {}
[debug] [2023-05-18T00:19:54.932Z] Validating nodejs source
[debug] [2023-05-18T00:19:55.845Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-18T00:19:55.846Z] Building nodejs source
[debug] [2023-05-18T00:19:55.846Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-18T00:19:55.852Z] Found firebase-functions binary at '/Users/nathaliebarr/Desktop/capstone/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-18T00:19:55.920Z] Serving at port 8472

[debug] [2023-05-18T00:19:56.079Z] FetchError: request to http://localhost:8472/__/quitquitquit failed, reason: connect ECONNREFUSED ::1:8472
    at ClientRequest.<anonymous> (/usr/local/lib/node_modules/firebase-tools/node_modules/node-fetch/lib/index.js:1505:11)
    at ClientRequest.emit (node:events:513:28)
    at ClientRequest.emit (node:domain:489:12)
    at Socket.socketErrorListener (node:_http_client:502:9)
    at Socket.emit (node:events:513:28)
    at Socket.emit (node:domain:489:12)
    at emitErrorNT (node:internal/streams/destroy:151:8)
    at emitErrorCloseNT (node:internal/streams/destroy:116:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-05-18T00:36:47.873Z] ----------------------------------------------------------------------
[debug] [2023-05-18T00:36:47.874Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2023-05-18T00:36:47.874Z] CLI Version:   12.0.1
[debug] [2023-05-18T00:36:47.874Z] Platform:      darwin
[debug] [2023-05-18T00:36:47.874Z] Node Version:  v18.15.0
[debug] [2023-05-18T00:36:47.875Z] Time:          Wed May 17 2023 20:36:47 GMT-0400 (Eastern Daylight Time)
[debug] [2023-05-18T00:36:47.875Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-18T00:36:47.903Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-18T00:36:47.903Z] > authorizing via signed-in user (ireenatbarr@gmail.com)
[debug] [2023-05-18T00:36:47.903Z] [iam] checking project u-capstone for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2023-05-18T00:36:47.904Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions [none]
[debug] [2023-05-18T00:36:47.904Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:36:47.904Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:36:48.284Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions 200
[debug] [2023-05-18T00:36:48.284Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/u-capstone:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2023-05-18T00:36:48.285Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-05-18T00:36:48.285Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:36:48.531Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-05-18T00:36:48.532Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/u-capstone/serviceAccounts/u-capstone@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-05-18T00:36:48.533Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:36:48.995Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:36:48.996Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] 
[info] === Deploying to 'u-capstone'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2023-05-18T00:36:49.000Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone [none]
[debug] [2023-05-18T00:36:49.296Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone 200
[debug] [2023-05-18T00:36:49.297Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone {"projectId":"u-capstone","projectNumber":"238400621894","displayName":"U-capstone","name":"projects/u-capstone","resources":{"hostingSite":"u-capstone"},"state":"ACTIVE","etag":"1_dec697dd-bec6-4f5e-bef4-068fe5316173"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-05-18T00:36:49.299Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [none]
[debug] [2023-05-18T00:36:49.300Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:36:49.301Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [none]
[debug] [2023-05-18T00:36:49.301Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:36:49.303Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [none]
[debug] [2023-05-18T00:36:49.303Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:36:49.304Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [none]
[debug] [2023-05-18T00:36:49.304Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com x-goog-quota-user=projects/u-capstone
[debug] [2023-05-18T00:36:49.724Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com 200
[debug] [2023-05-18T00:36:49.724Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-05-18T00:36:49.728Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com 200
[debug] [2023-05-18T00:36:49.729Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-05-18T00:36:49.729Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com 200
[debug] [2023-05-18T00:36:49.729Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-05-18T00:36:49.736Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com 200
[debug] [2023-05-18T00:36:49.736Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/u-capstone/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-05-18T00:36:49.736Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig [none]
[debug] [2023-05-18T00:36:50.232Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig 200
[debug] [2023-05-18T00:36:50.233Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/u-capstone/adminSdkConfig {"projectId":"u-capstone","storageBucket":"u-capstone.appspot.com"}
[debug] [2023-05-18T00:36:50.234Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs [none]
[debug] [2023-05-18T00:36:50.448Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs 200
[debug] [2023-05-18T00:36:50.448Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/u-capstone/configs {}
[debug] [2023-05-18T00:36:50.451Z] Validating nodejs source
[debug] [2023-05-18T00:36:51.495Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-18T00:36:51.495Z] Building nodejs source
[debug] [2023-05-18T00:36:51.495Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-18T00:36:51.501Z] Found firebase-functions binary at '/Users/nathaliebarr/Desktop/capstone/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-18T00:36:51.572Z] Serving at port 8619

[debug] [2023-05-18T00:36:51.747Z] FetchError: request to http://localhost:8619/__/quitquitquit failed, reason: connect ECONNREFUSED ::1:8619
    at ClientRequest.<anonymous> (/usr/local/lib/node_modules/firebase-tools/node_modules/node-fetch/lib/index.js:1505:11)
    at ClientRequest.emit (node:events:513:28)
    at ClientRequest.emit (node:domain:489:12)
    at Socket.socketErrorListener (node:_http_client:502:9)
    at Socket.emit (node:events:513:28)
    at Socket.emit (node:domain:489:12)
    at emitErrorNT (node:internal/streams/destroy:151:8)
    at emitErrorCloseNT (node:internal/streams/destroy:116:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
